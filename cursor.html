

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cursors (executing SQL) &mdash; APSW 3.50.3.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=bb2faaec" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/apsw.css?v=3c7e2631" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=12791a14"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Blob Input/Output" href="blob.html" />
    <link rel="prev" title="Connections to a database" href="connection.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            APSW
              <img src="_static/apswlogo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example/Tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation and customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="bestpractice.html">Best Practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="apsw.html">APSW Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="connection.html">Connections to a database</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Cursors (executing SQL)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cursor-class">Cursor class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor"><code class="docutils literal notranslate"><span class="pre">Cursor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.__iter__"><code class="docutils literal notranslate"><span class="pre">Cursor.__iter__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.__next__"><code class="docutils literal notranslate"><span class="pre">Cursor.__next__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.bindings_count"><code class="docutils literal notranslate"><span class="pre">Cursor.bindings_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.bindings_names"><code class="docutils literal notranslate"><span class="pre">Cursor.bindings_names</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.close"><code class="docutils literal notranslate"><span class="pre">Cursor.close()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.connection"><code class="docutils literal notranslate"><span class="pre">Cursor.connection</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.description"><code class="docutils literal notranslate"><span class="pre">Cursor.description</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.description_full"><code class="docutils literal notranslate"><span class="pre">Cursor.description_full</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.exec_trace"><code class="docutils literal notranslate"><span class="pre">Cursor.exec_trace</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.execute"><code class="docutils literal notranslate"><span class="pre">Cursor.execute()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.executemany"><code class="docutils literal notranslate"><span class="pre">Cursor.executemany()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.expanded_sql"><code class="docutils literal notranslate"><span class="pre">Cursor.expanded_sql</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.fetchall"><code class="docutils literal notranslate"><span class="pre">Cursor.fetchall()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.fetchone"><code class="docutils literal notranslate"><span class="pre">Cursor.fetchone()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.get"><code class="docutils literal notranslate"><span class="pre">Cursor.get</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.get_connection"><code class="docutils literal notranslate"><span class="pre">Cursor.get_connection()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.get_description"><code class="docutils literal notranslate"><span class="pre">Cursor.get_description()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.get_exec_trace"><code class="docutils literal notranslate"><span class="pre">Cursor.get_exec_trace()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.get_row_trace"><code class="docutils literal notranslate"><span class="pre">Cursor.get_row_trace()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.has_vdbe"><code class="docutils literal notranslate"><span class="pre">Cursor.has_vdbe</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.is_explain"><code class="docutils literal notranslate"><span class="pre">Cursor.is_explain</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.is_readonly"><code class="docutils literal notranslate"><span class="pre">Cursor.is_readonly</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.row_trace"><code class="docutils literal notranslate"><span class="pre">Cursor.row_trace</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.set_exec_trace"><code class="docutils literal notranslate"><span class="pre">Cursor.set_exec_trace()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#apsw.Cursor.set_row_trace"><code class="docutils literal notranslate"><span class="pre">Cursor.set_row_trace()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="blob.html">Blob Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="backup.html">Backup</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-fts.html">Full Text Search Example/Tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="textsearch.html">Full text search</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-session.html">Session Example/Tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="session.html">Session extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="vtable.html">Virtual Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="vfs.html">Virtual File System (VFS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="shell.html">Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="ext.html">Various interesting and useful bits of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions and Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">Execution and tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="dbapi.html">DBAPI notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="pysqlite.html">sqlite3 module differences</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarking.html">Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Change History</a></li>
<li class="toctree-l1"><a class="reference internal" href="py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">APSW</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Cursors (executing SQL)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cursor.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="connection.html" class="btn btn-neutral float-left" title="Connections to a database" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="blob.html" class="btn btn-neutral float-right" title="Blob Input/Output" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cursors-executing-sql">
<span id="cursors"></span><h1>Cursors (executing SQL)<a class="headerlink" href="#cursors-executing-sql" title="Link to this heading"></a></h1>
<p>A cursor encapsulates a SQL query and returning results.  You only need an
explicit cursor if you want more information or control over execution.  Using
<a class="reference internal" href="connection.html#apsw.Connection.execute" title="apsw.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> or <a class="reference internal" href="connection.html#apsw.Connection.executemany" title="apsw.Connection.executemany"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.executemany()</span></code></a> will automatically
obtain a cursor behind the scenes.</p>
<p>If you need a cursor you should call <a class="reference internal" href="connection.html#apsw.Connection.cursor" title="apsw.Connection.cursor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cursor()</span></code></a> on your
database:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">db</span> <span class="o">=</span> <span class="n">apsw</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="s2">&quot;databasefilename&quot;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="example.html#example-executing-sql"><span class="std std-ref">example</span></a> shows how to execute SQL and
how to provide values used in queries (bindings).</p>
<p>Cursors are cheap.  Use as many as you need. Behind the scenes a
<a class="reference internal" href="#apsw.Cursor" title="apsw.Cursor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cursor</span></code></a> maps to a <a class="reference external" href="https://sqlite.org/c3ref/stmt.html">SQLite statement</a>.
APSW maintains a <a class="reference internal" href="execution.html#statementcache"><span class="std std-ref">cache</span></a> so that the mapping is very fast, and the
SQLite objects are reused when possible.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cursors on the same <a class="reference internal" href="connection.html#connections"><span class="std std-ref">Connection</span></a> are not isolated
from each other.  Anything done on one cursor is immediately visible
to all other Cursors on the same connection.  This still applies if
you start transactions.  Connections are isolated from each other
with cursors on other connections not seeing changes until they are
committed.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://sqlite.org/lang_transaction.html">SQLite transactions</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/atomiccommit.html">Atomic commit</a></p></li>
<li><p><a class="reference internal" href="benchmarking.html#benchmarking"><span class="std std-ref">Benchmarking</span></a></p></li>
</ul>
</div>
<section id="cursor-class">
<h2>Cursor class<a class="headerlink" href="#cursor-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="apsw.Cursor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsw.</span></span><span class="sig-name descname"><span class="pre">Cursor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="connection.html#apsw.Connection" title="apsw.Connection"><span class="pre">Connection</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsw.Cursor" title="Link to this definition"></a></dt>
<dd><p>Use <a class="reference internal" href="connection.html#apsw.Connection.cursor" title="apsw.Connection.cursor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.cursor()</span></code></a> to make a new cursor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.__iter__">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#apsw.Cursor" title="apsw.Cursor"><span class="pre">Cursor</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#apsw.Cursor" title="apsw.Cursor"><span class="pre">Cursor</span></a></span></span><a class="headerlink" href="#apsw.Cursor.__iter__" title="Link to this definition"></a></dt>
<dd><p>Cursors are iterators</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.__next__">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">__next__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#apsw.Cursor" title="apsw.Cursor"><span class="pre">Cursor</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#apsw.Cursor.__next__" title="Link to this definition"></a></dt>
<dd><p>Cursors are iterators</p>
</dd></dl>

<dl class="py attribute" id="index-0">
<dt class="sig sig-object py" id="apsw.Cursor.bindings_count">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">bindings_count</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#apsw.Cursor.bindings_count" title="Link to this definition"></a></dt>
<dd><p>How many bindings are in the statement.  The <code class="docutils literal notranslate"><span class="pre">?</span></code> form
results in the largest number.  For example you could do
<code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">?123`</span></code> in which case the count will be <code class="docutils literal notranslate"><span class="pre">123</span></code>.</p>
<p>Calls: <a class="reference external" href="https://sqlite.org/c3ref/bind_parameter_count.html">sqlite3_bind_parameter_count</a></p>
</dd></dl>

<dl class="py attribute" id="index-1">
<dt class="sig sig-object py" id="apsw.Cursor.bindings_names">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">bindings_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#apsw.Cursor.bindings_names" title="Link to this definition"></a></dt>
<dd><p>A tuple of the name of each bind parameter, or None for no name.  The
leading marker (<code class="docutils literal notranslate"><span class="pre">?:&#64;$</span></code>) is omitted</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>SQLite parameter numbering starts at <code class="docutils literal notranslate"><span class="pre">1</span></code>, while Python
indexing starts at <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</div>
<p>Calls: <a class="reference external" href="https://sqlite.org/c3ref/bind_parameter_name.html">sqlite3_bind_parameter_name</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.close">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsw.Cursor.close" title="Link to this definition"></a></dt>
<dd><p>It is very unlikely you will need to call this method.
Cursors are automatically garbage collected and when there
are none left will allow the connection to be garbage collected if
it has no other references.</p>
<p>A cursor is open if there are remaining statements to execute (if
your query included multiple statements), or if you called
<a class="reference internal" href="#apsw.Cursor.executemany" title="apsw.Cursor.executemany"><code class="xref py py-meth docutils literal notranslate"><span class="pre">executemany()</span></code></a> and not all of the sequence of bindings
have been used yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>force</strong> – If False then you will get exceptions if there is
remaining work to do be in the Cursor such as more statements to
execute, more data from the executemany binding sequence etc. If
force is True then all remaining work and state information will be
silently discarded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="apsw.Cursor.connection">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">connection</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="connection.html#apsw.Connection" title="apsw.Connection"><span class="pre">Connection</span></a></em><a class="headerlink" href="#apsw.Cursor.connection" title="Link to this definition"></a></dt>
<dd><p><a class="reference internal" href="connection.html#apsw.Connection" title="apsw.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> this cursor is using</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="apsw.Cursor.description">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#apsw.Cursor.description" title="Link to this definition"></a></dt>
<dd><p>Based on the <a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">DB-API cursor property</a>, this returns the
same as <a class="reference internal" href="#apsw.Cursor.get_description" title="apsw.Cursor.get_description"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_description()</span></code></a> but with 5 Nones appended because
SQLite does not have the information.</p>
</dd></dl>

<dl class="py attribute" id="index-2">
<dt class="sig sig-object py" id="apsw.Cursor.description_full">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">description_full</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#apsw.Cursor.description_full" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Only present if SQLITE_ENABLE_COLUMN_METADATA was defined at
compile time.</p>
<p>Returns all information about the query result columns. In
addition to the name and declared type, you also get the database
name, table name, and origin name.</p>
<dl class="simple">
<dt>Calls:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://sqlite.org/c3ref/column_name.html">sqlite3_column_name</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/column_decltype.html">sqlite3_column_decltype</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/column_database_name.html">sqlite3_column_database_name</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/column_database_name.html">sqlite3_column_table_name</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/column_database_name.html">sqlite3_column_origin_name</a></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsw.Cursor.exec_trace">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">exec_trace</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="apsw.html#apsw.ExecTracer" title="apsw.ExecTracer"><span class="pre">ExecTracer</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#apsw.Cursor.exec_trace" title="Link to this definition"></a></dt>
<dd><p>Called with the cursor, statement and bindings for
each <a class="reference internal" href="#apsw.Cursor.execute" title="apsw.Cursor.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a> or <a class="reference internal" href="#apsw.Cursor.executemany" title="apsw.Cursor.executemany"><code class="xref py py-meth docutils literal notranslate"><span class="pre">executemany()</span></code></a> on this
cursor.</p>
<p>If <em>callable</em> is <em>None</em> then any existing execution tracer is
unregistered.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="execution.html#tracing"><span class="std std-ref">Tracing</span></a></p></li>
<li><p><a class="reference internal" href="execution.html#executiontracer"><span class="std std-ref">Execution Tracer</span></a></p></li>
<li><p><a class="reference internal" href="connection.html#apsw.Connection.exec_trace" title="apsw.Connection.exec_trace"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Connection.exec_trace</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py method" id="index-3">
<dt class="sig sig-object py" id="apsw.Cursor.execute">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statements</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bindings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="apsw.html#apsw.Bindings" title="apsw.Bindings"><span class="pre">Bindings</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_cache</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepare_flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#apsw.Cursor" title="apsw.Cursor"><span class="pre">Cursor</span></a></span></span><a class="headerlink" href="#apsw.Cursor.execute" title="Link to this definition"></a></dt>
<dd><p>Executes the statements using the supplied bindings.  Execution
returns when the first row is available or all statements have
completed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>statements</strong> – One or more SQL statements such as <code class="docutils literal notranslate"><span class="pre">select</span> <span class="pre">*</span>
<span class="pre">from</span> <span class="pre">books</span></code> or <code class="docutils literal notranslate"><span class="pre">begin;</span> <span class="pre">insert</span> <span class="pre">into</span> <span class="pre">books</span> <span class="pre">...;</span> <span class="pre">select</span>
<span class="pre">last_insert_rowid();</span> <span class="pre">end</span></code>.</p></li>
<li><p><strong>bindings</strong> – If supplied should either be a sequence or a dictionary.  Each item must be one of the <a class="reference internal" href="tips.html#types"><span class="std std-ref">supported types</span></a>,
<a class="reference internal" href="blob.html#apsw.zeroblob" title="apsw.zeroblob"><code class="xref py py-class docutils literal notranslate"><span class="pre">zeroblob</span></code></a>, or a wrapped <a class="reference internal" href="tips.html#pyobject"><span class="std std-ref">Python object</span></a></p></li>
<li><p><strong>can_cache</strong> – If False then the statement cache will not be used to find an already prepared query, nor will it be
placed in the cache after execution</p></li>
<li><p><strong>prepare_flags</strong> – <a class="reference external" href="https://sqlite.org/c3ref/c_prepare_normalize.html">flags</a> passed to
<a class="reference external" href="https://sqlite.org/c3ref/prepare.html">sqlite_prepare_v3</a></p></li>
<li><p><strong>explain</strong> – If 0 or greater then the statement is passed to <a class="reference external" href="https://sqlite.org/c3ref/stmt_explain.html">sqlite3_stmt_explain</a>
where you can force it to not be an explain, or force explain or explain query plan.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><strong>TypeError</strong></a> – The bindings supplied were neither a dict nor a sequence</p></li>
<li><p><a class="reference internal" href="exceptions.html#apsw.BindingsError" title="apsw.BindingsError"><strong>BindingsError</strong></a> – You supplied too many or too few bindings for the statements</p></li>
<li><p><a class="reference internal" href="exceptions.html#apsw.IncompleteExecutionError" title="apsw.IncompleteExecutionError"><strong>IncompleteExecutionError</strong></a> – There are remaining unexecuted queries from your last execute</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="example.html#example-executing-sql"><span class="std std-ref">Example</span></a> showing how to use bindings</p></li>
<li><p><a class="reference internal" href="execution.html#executionmodel"><span class="std std-ref">Execution model</span></a></p></li>
</ul>
</div>
<dl class="simple">
<dt>Calls:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://sqlite.org/c3ref/prepare.html">sqlite3_prepare_v3</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/step.html">sqlite3_step</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/bind_blob.html">sqlite3_bind_int64</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/bind_blob.html">sqlite3_bind_null</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/bind_blob.html">sqlite3_bind_text64</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/bind_blob.html">sqlite3_bind_double</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/bind_blob.html">sqlite3_bind_blob64</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/bind_blob.html">sqlite3_bind_zeroblob64</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/stmt_explain.html">sqlite3_stmt_explain</a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.executemany">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">executemany</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statements</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sequenceofbindings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="apsw.html#apsw.Bindings" title="apsw.Bindings"><span class="pre">Bindings</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_cache</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepare_flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#apsw.Cursor" title="apsw.Cursor"><span class="pre">Cursor</span></a></span></span><a class="headerlink" href="#apsw.Cursor.executemany" title="Link to this definition"></a></dt>
<dd><p>This method is for when you want to execute the same statements over
a sequence of bindings.  Conceptually it does this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">binding</span> <span class="ow">in</span> <span class="n">sequenceofbindings</span><span class="p">:</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statements</span><span class="p">,</span> <span class="n">binding</span><span class="p">)</span>
</pre></div>
</div>
<p>The return is the cursor itself which acts as an iterator.  Your
statements can return data.  See <a class="reference internal" href="#apsw.Cursor.execute" title="apsw.Cursor.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a> for more
information, and the <a class="reference internal" href="example.html#example-executemany"><span class="std std-ref">example</span></a>.</p>
</dd></dl>

<dl class="py attribute" id="index-4">
<dt class="sig sig-object py" id="apsw.Cursor.expanded_sql">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">expanded_sql</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#apsw.Cursor.expanded_sql" title="Link to this definition"></a></dt>
<dd><p>The SQL text with bound parameters expanded.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select ?, ?&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>would return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span>
</pre></div>
</div>
<p>Note that while SQLite supports nulls in strings, their implementation
of sqlite3_expanded_sql stops at the first null.</p>
<p>You will get <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#MemoryError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">MemoryError</span></code></a> if SQLite ran out of memory, or if
the expanded string would exceed <a class="reference external" href="https://www.sqlite.org/c3ref/c_limit_attached.html">SQLITE_LIMIT_LENGTH</a>.</p>
<p>Calls: <a class="reference external" href="https://sqlite.org/c3ref/expanded_sql.html">sqlite3_expanded_sql</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.fetchall">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">fetchall</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="apsw.html#apsw.SQLiteValue" title="apsw.SQLiteValue"><span class="pre">SQLiteValue</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#apsw.Cursor.fetchall" title="Link to this definition"></a></dt>
<dd><p>Returns all remaining result rows as a list.  This method is defined
in DBAPI.  See <a class="reference internal" href="#apsw.Cursor.get" title="apsw.Cursor.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code></a> which does the same thing, but with the least
amount of structure to unpack.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.fetchone">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">fetchone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsw.Cursor.fetchone" title="Link to this definition"></a></dt>
<dd><p>Returns the next row of data or None if there are no more rows.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="apsw.Cursor.get">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">get</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#apsw.Cursor.get" title="Link to this definition"></a></dt>
<dd><p>Like <a class="reference internal" href="#apsw.Cursor.fetchall" title="apsw.Cursor.fetchall"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fetchall()</span></code></a> but returns the data with the least amount of structure
possible.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Some examples</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Query</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>select 3</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>select 3,4</p></td>
<td><p>(3, 4)</p></td>
</tr>
<tr class="row-even"><td><p>select 3; select 4</p></td>
<td><p>[3, 4]</p></td>
</tr>
<tr class="row-odd"><td><p>select 3,4; select 4,5</p></td>
<td><p>[(3, 4), (4, 5)]</p></td>
</tr>
<tr class="row-even"><td><p>select 3,4; select 5</p></td>
<td><p>[(3, 4), 5]</p></td>
</tr>
</tbody>
</table>
<p>Row tracers are not called when using this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.get_connection">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">get_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="connection.html#apsw.Connection" title="apsw.Connection"><span class="pre">Connection</span></a></span></span><a class="headerlink" href="#apsw.Cursor.get_connection" title="Link to this definition"></a></dt>
<dd><p>Returns the <a class="reference internal" href="#apsw.Cursor.connection" title="apsw.Cursor.connection"><code class="xref py py-attr docutils literal notranslate"><span class="pre">connection</span></code></a> this cursor is part of</p>
</dd></dl>

<dl class="py method" id="index-5">
<dt class="sig sig-object py" id="apsw.Cursor.get_description">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">get_description</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#apsw.Cursor.get_description" title="Link to this definition"></a></dt>
<dd><p>If you are trying to get information about a table or view,
then <a class="reference external" href="https://sqlite.org/pragma.html#pragma_table_info">pragma table_info</a>
is better.  If you want to know up front what columns and other
details a query does then <a class="reference internal" href="ext.html#apsw.ext.query_info" title="apsw.ext.query_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">apsw.ext.query_info()</span></code></a> is useful.</p>
<p>Returns a tuple describing each column in the result row.  The
return is identical for every row of the results.</p>
<p>The information about each column is a tuple of <code class="docutils literal notranslate"><span class="pre">(column_name,</span>
<span class="pre">declared_column_type)</span></code>.  The type is what was declared in the
<code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> statement - the value returned in the row will be
whatever type you put in for that row and column.</p>
<p>See the <a class="reference internal" href="example.html#example-query-details"><span class="std std-ref">query_info example</span></a>.</p>
<dl class="simple">
<dt>Calls:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://sqlite.org/c3ref/column_name.html">sqlite3_column_name</a></p></li>
<li><p><a class="reference external" href="https://sqlite.org/c3ref/column_decltype.html">sqlite3_column_decltype</a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.get_exec_trace">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">get_exec_trace</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="apsw.html#apsw.ExecTracer" title="apsw.ExecTracer"><span class="pre">ExecTracer</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsw.Cursor.get_exec_trace" title="Link to this definition"></a></dt>
<dd><p>Returns the currently installed <a class="reference internal" href="#apsw.Cursor.exec_trace" title="apsw.Cursor.exec_trace"><code class="xref py py-attr docutils literal notranslate"><span class="pre">execution</span> <span class="pre">tracer</span></code></a></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="execution.html#tracing"><span class="std std-ref">Tracing</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.get_row_trace">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">get_row_trace</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="apsw.html#apsw.RowTracer" title="apsw.RowTracer"><span class="pre">RowTracer</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsw.Cursor.get_row_trace" title="Link to this definition"></a></dt>
<dd><p>Returns the currently installed (via <a class="reference internal" href="#apsw.Cursor.set_row_trace" title="apsw.Cursor.set_row_trace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_row_trace()</span></code></a>)
row tracer.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="execution.html#tracing"><span class="std std-ref">Tracing</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="apsw.Cursor.has_vdbe">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">has_vdbe</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#apsw.Cursor.has_vdbe" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the SQL does anything.  Comments have nothing to
evaluate, and so are <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py attribute" id="index-6">
<dt class="sig sig-object py" id="apsw.Cursor.is_explain">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">is_explain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#apsw.Cursor.is_explain" title="Link to this definition"></a></dt>
<dd><p>Returns 0 if executing a normal query, 1 if it is an EXPLAIN query,
and 2 if an EXPLAIN QUERY PLAN query.</p>
<p>Calls: <a class="reference external" href="https://sqlite.org/c3ref/stmt_isexplain.html">sqlite3_stmt_isexplain</a></p>
</dd></dl>

<dl class="py attribute" id="index-7">
<dt class="sig sig-object py" id="apsw.Cursor.is_readonly">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">is_readonly</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#apsw.Cursor.is_readonly" title="Link to this definition"></a></dt>
<dd><p>Returns True if the current query does not change the database.</p>
<p>Note that called functions, virtual tables etc could make changes though.</p>
<p>Calls: <a class="reference external" href="https://sqlite.org/c3ref/stmt_readonly.html">sqlite3_stmt_readonly</a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="apsw.Cursor.row_trace">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">row_trace</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="apsw.html#apsw.RowTracer" title="apsw.RowTracer"><span class="pre">RowTracer</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#apsw.Cursor.row_trace" title="Link to this definition"></a></dt>
<dd><p>Called with cursor and row being returned.  You can
change the data that is returned or cause the row to be skipped
altogether.</p>
<p>If <em>callable</em> is <em>None</em> then any existing row tracer is
unregistered.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="execution.html#tracing"><span class="std std-ref">Tracing</span></a></p></li>
<li><p><a class="reference internal" href="execution.html#rowtracer"><span class="std std-ref">Row Tracer</span></a></p></li>
<li><p><a class="reference internal" href="connection.html#apsw.Connection.row_trace" title="apsw.Connection.row_trace"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Connection.row_trace</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.set_exec_trace">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">set_exec_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="apsw.html#apsw.ExecTracer" title="apsw.ExecTracer"><span class="pre">ExecTracer</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsw.Cursor.set_exec_trace" title="Link to this definition"></a></dt>
<dd><p>Sets the <a class="reference internal" href="#apsw.Cursor.exec_trace" title="apsw.Cursor.exec_trace"><code class="xref py py-attr docutils literal notranslate"><span class="pre">execution</span> <span class="pre">tracer</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apsw.Cursor.set_row_trace">
<span class="sig-prename descclassname"><span class="pre">Cursor.</span></span><span class="sig-name descname"><span class="pre">set_row_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="apsw.html#apsw.RowTracer" title="apsw.RowTracer"><span class="pre">RowTracer</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsw.Cursor.set_row_trace" title="Link to this definition"></a></dt>
<dd><p>Sets the <a class="reference internal" href="#apsw.Cursor.row_trace" title="apsw.Cursor.row_trace"><code class="xref py py-attr docutils literal notranslate"><span class="pre">row</span> <span class="pre">tracer</span></code></a></p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="connection.html" class="btn btn-neutral float-left" title="Connections to a database" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="blob.html" class="btn btn-neutral float-right" title="Blob Input/Output" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="copyright.html">Copyright</a> 2004-2025, Roger Binns &lt;rogerb@rogerbinns.com&gt;.
      <span class="lastupdated">Last updated on Jul 20, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2NR9GDCQLT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2NR9GDCQLT', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>